#include "../util.h"

using namespace std;

namespace SudoUno {
    
    // Recommended logging levels:
    // -- S: System Info
    // -- G: Game info
    // -- W: Waiter info
    // -- !: Important
    // -- I: Initialization
    // -- E: Error

    // TODO: give threads the ability to log with unique identifiers
    // TODO: 
    void util::log(char level, const string& msg) {

        // Get the current time for use in the log
        time_t current_time;
        time(&current_time);

        // Localize it
        struct tm *local_time = localtime(&current_time);

        // Format it
        char formatted_time[30];
        strftime(formatted_time, sizeof(formatted_time), "%a %b %d %H:%M:%S %Y", local_time);

        // Now log!
        cout << formatted_time << " [" << level << "]: " << msg << endl;
    }

    void util::ascii() {
        cout << " .----------------.  .----------------.  .----------------.  .----------------. \n| .--------------. || .--------------. || .--------------. || .--------------. |\n| |    _______   | || | _____  _____ | || |  ________    | || |     ____     | |\n| |   /  ___  |  | || ||_   _||_   _|| || | |_   ___ `.  | || |   .'    `.   | |\n| |  |  (__ \\_|  | || |  | |    | |  | || |   | |   `. \\ | || |  /  .--.  \\  | |\n| |   '.___`-.   | || |  | '    ' |  | || |   | |    | | | || |  | |    | |  | |\n| |  |`\\____) |  | || |   \\ `--' /   | || |  _| |___.' / | || |  \\  `--'  /  | |\n| |  |_______.'  | || |    `.__.'    | || | |________.'  | || |   `.____.'   | |\n| |              | || |              | || |              | || |              | |\n| '--------------' || '--------------' || '--------------' || '--------------' |\n '----------------'  '----------------'  '----------------'  '----------------' \n\n                                     ______                                     \n                                    |______|                                    \n\n           .----------------.  .-----------------. .----------------.           \n          | .--------------. || .--------------. || .--------------. |          \n          | | _____  _____ | || | ____  _____  | || |     ____     | |          \n          | ||_   _||_   _|| || ||_   \\|_   _| | || |   .'    `.   | |          \n          | |  | |    | |  | || |  |   \\ | |   | || |  /  .--.  \\  | |          \n          | |  | '    ' |  | || |  | |\\ \\| |   | || |  | |    | |  | |          \n          | |   \\ `--' /   | || | _| |_\\   |_  | || |  \\  `--'  /  | |          \n          | |    `.__.'    | || ||_____|\\____| | || |   `.____.'   | |          \n          | |              | || |              | || |              | |          \n          | '--------------' || '--------------' || '--------------' |          \n           '----------------'  '----------------'  '----------------'           "<<endl;
    }
}